/*! jQuery asTabs - v0.3.1 - 2014-11-13
* https://github.com/amazingSurge/jquery-asTabs
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a){"use strict";var b="asTabs",c=a[b]=function(b,d){var e=this;this.element=b,this.$element=a(b),this.options=a.extend(!0,{},c.defaults,d,this.$element.data("options")),this.namespace=this.options.namespace,this.initialIndex=this.options.initialIndex,this.initialized=!1,this.disabled=!1,this.actived=!1,this.current=null,this.classes={withJs:"with-js",activeTab:"is-active",activePane:"is-active",nav:this.namespace+"-nav",content:this.namespace+"-content",disabled:this.namespace+"-disabled",skin:this.namespace+"_"+this.options.skin},this.options.navSelector?(this.$nav=this.$element.find(this.options.navSelector),this.$content=this.$element.find(this.options.contentSelector)):(this.$nav=this.$element,this.$content="+"===this.options.contentSelector?this.$nav.next():a(this.options.contentSelector)),this.$nav.addClass(this.classes.nav).addClass(this.classes.withJs),this.$content.addClass(this.classes.content).addClass(this.classes.withJs),this.$tabs=this.$nav.children(),this.$panes=this.$content.children(),this.$loading=a('<span class="'+this.namespace+'-loading"></span>'),this.size=this.$tabs.length,this.options.skin&&(this.$element.addClass(this.classes.skin),this.$content.addClass(this.classes.skin)),this.options.ajax===!0&&(this.ajax=[],a.each(this.$tabs,function(b,c){var d={};d.href=a(c).data("href"),e.ajax.push(d)})),this.init()};c.defaults={namespace:"asTabs",navSelector:null,contentSelector:"+",skin:null,initialIndex:0,ajax:!1,cached:!1,history:!1,historyAttr:"id",keyboard:!1,effect:!1,duration:300,event:"click"},c.prototype={constructor:c,init:function(){var b=this;this.$nav.on(this.options.event,"> *",function(c){if(b.disabled)return!1;var d=a(c.target).index();return b.active(d),!1}),this._trigger("init"),this.active(this.initialIndex),this.actived=!0,this.initialized=!0,this._trigger("ready")},_trigger:function(a){var c=Array.prototype.slice.call(arguments,1),d=[this].concat(c);this.$element.trigger(b+"::"+a,d),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var e="on"+a;"function"==typeof this.options[e]&&this.options[e].apply(this,c)},active:function(b,c){if(this.current>=0){if(this.current===b||b>=this.size||0>b)return}else b>=this.size?b=this.size-1:0>b&&(b=0);this.$tabs.eq(b).addClass(this.classes.activeTab).siblings().removeClass(this.classes.activeTab);var d=this;null===this.current?this.$panes.eq(b).addClass(this.classes.activePane).siblings().removeClass(this.classes.activePane):(d._trigger("animation",d.current,b),d.effects||d.$panes.eq(d.current).fadeOut(d.options.duration,function(){a(this).removeClass("is-active"),d.$panes.eq(b).fadeIn(d.options.duration,function(){a(this).addClass("is-active")})})),d.previous=d.current,d.current=b,d.options.ajax===!0&&d.ajaxLoad(b),d._trigger("active",b),c!==!1&&d._trigger("update",b)},ajaxLoad:function(b){var c,d=this;(this.options.cached!==!0||this.ajax[b].cached!==!0)&&(this.showLoading(),c=a.ajax({url:this.ajax[b].href}),c.done(function(a){d.ajax[b].cached=!0,d.hideLoading(),d.$panes.eq(b).html(a)}),c.fail(function(){d.hideLoading(),d.$panes.eq(b).html("failed")}),c.always(function(){d._trigger("loaded",b)}))},showLoading:function(){this.$loading.appendTo(this.$content)},hideLoading:function(){this.$loading.remove()},getTabs:function(){return this.$tabs},getPanes:function(){return this.$panes},getCurrentPane:function(){return this.$panes.eq(this.current)},getCurrentTab:function(){return this.$tabs.eq(this.current)},getIndex:function(){return this.current},getSize:function(){return this.size},append:function(a,b){return this.add(a,b,this.size)},add:function(b,c,d){return d>this.size+1?d=this.size+1:0>d&&(d=0),0===d?(this.$nav.append(a("<li/>",{"class":this.classes.activeTab}).html(b)),this.$content.append(a("<div/>",{"class":this.classes.activePane}).html(c)),this.current=0):(this.$tabs.eq(d-1).after(this.$tabs.eq(0).clone().removeClass(this.classes.activeTab).html(b)),this.$panes.eq(d-1).after(this.$panes.eq(0).clone().removeClass(this.classes.activePane).html(c))),this.$tabs=this.$nav.children(),this.$panes=this.$content.children(),this.size++,this},remove:function(a){return a>this.size||0>a||0===this.size?this:(this.$tabs.eq(a).remove(),this.$panes.eq(a).remove(),this.$tabs=this.$nav.children(),this.$panes=this.$content.children(),this.size--,this.current===a&&(a>this.size&&(a=0),this.active(a)),this)},next:function(){var a=this.current;return a<this.size-1?a++:a=0,this.active(a),this},prev:function(){var a=this.current;return 0===a?a=Math.abs(1-this.size):a-=1,this.active(a),this},revert:function(a){var b=0;return this.options.initialIndex&&(b=this.options.initialIndex),this.active(b,a),this},enable:function(){return this.disabled===!0&&(this.disabled=!1,this.$nav.removeClass(this.classes.disabled),this.$content.removeClass(this.classes.disabled)),this},disable:function(){return this.disabled===!1&&(this.disabled=!0,this.$nav.addClass(this.classes.disabled),this.$content.addClass(this.classes.disabled)),this},destroy:function(){this.$nav.removeClass(this.classes.nav).removeClass(this.classes.withJs),this.$content.removeClass(this.classes.content).removeClass(this.classes.withJs),this.$tabs.removeClass(this.classes.activeTab),this.$panes.removeClass(this.classes.activePane),this.$nav.off(this.options.event),a.data(this.$element,b,null)}},a.fn[b]=function(d){if("string"!=typeof d)return this.each(function(){a.data(this,b)||a.data(this,b,new c(this,d))});var e=d,f=Array.prototype.slice.call(arguments,1);if(/^\_/.test(e))return!1;if(!/^(getTabs|getPanes|getCurrentPane|getCurrentTab|getIndex|getSize)$/.test(e))return this.each(function(){var c=a.data(this,b);c&&"function"==typeof c[e]&&c[e].apply(c,f)});var g=this.first().data(b);return g&&"function"==typeof g[e]?g[e].apply(g,f):void 0}}(jQuery,document,window),function(a,b,c){"use strict";if(a.history&&a.history.pushState&&a.history.replaceState){var d=c(b),e=1;d.on("asTabs::init",function(b,d){if(d.options.history!==!1){if(d.options.history!==!0)d.historyId=d.options.history;else{var f=d.$element.attr("id");f?d.historyId=f:(d.historyId="tabs_"+e,e++)}var g=new RegExp("[#&]*"+d.historyId+"=([^&]*)","i").exec(a.location.hash);if(g){var h=decodeURIComponent(g[1].replace(/\+/g," ")),i=d.$nav.find("["+d.options.historyAttr+'="'+h+'"]');i.length>=1?d.initialIndex=d.$tabs.index(i):!isNaN(parseFloat(h))&&isFinite(h)&&(d.initialIndex=h)}c(a).on("popstate",function(a){var b=a.originalEvent.state;b&&"undefined"!=typeof b[d.historyId]?(b[d.historyId].index&&d.active(b[d.historyId].index,!1),a.preventDefault()):d.revert(!1)})}}),d.on("asTabs::update",function(b,c){if(c.options.history!==!1&&"undefined"!=typeof c.historyId&&c.actived!==!1){var d=c.current,e={index:d},f=c.$tabs.eq(d).attr(c.options.historyAttr);e.slug=f?f:d,d===c.options.initialIndex&&(e.initial=!0);var g=a.location.hash;""===g&&(g="#");var h=new RegExp("&*"+c.historyId+"=[^&]+","i");g=e.initial?g.replace(h,""):g.match(h)?g.replace(h,"&"+c.historyId+"="+e.slug):g+"&"+c.historyId+"="+e.slug;var i=history.state;i||(i={}),i[c.historyId]=e,g=g.replace(/^#&/,"#"),a.history.pushState(i,"",g)}})}}(window,document,jQuery),function(a,b,c){"use strict";var d=c(b),e={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(a){var b=a.keyCode||a.which;return b in e.map&&"function"==typeof e.map[b]?(a.preventDefault(),e.map[b].call(this,a)):void 0},attach:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=b.toUpperCase(),c in e.keys?e.map[e.keys[c]]=a[b]:e.map[c]=a[b]);e.bound||(e.bound=!0,d.bind("keydown",e.press))},detach:function(){e.bound=!1,e.map={},d.unbind("keydown",e.press)}};d.on("asTabs::init",function(a,b){b.options.keyboard!==!1&&(b.$element.add(b.$panes_wrap).attr("tabindex","0").on("focus",function(){return e.attach({left:c.proxy(b.prev,b),right:c.proxy(b.next,b)}),!1}).on("blur",function(){return e.detach(),!1}),b.$panes.attr("tabindex","0").on("focus",function(a){return e.attach({left:c.proxy(b.prev,b),right:c.proxy(b.next,b)}),a.preventDefault(),!1}).on("blur",function(a){return e.detach(),a.preventDefault(),!1}))})}(window,document,jQuery),function(a,b,c,d){"use strict";var e=c(b),f=function(a){for(var b=a.split(" "),d=b.length,e=["Up","Down","In","Out","Left","Right","Top","Bottom"],f=["Down","Up","Out","In","Right","Left","Bottom","Top"],g="",h="",i=[],j="",k=0;d>k;k++){for(var l=0;l<e.length;l++)h=new RegExp(e[l]),h.test(b[k])&&i.push(l);for(var m=0;m<i.length;m++)j=i[m],b[k]=b[k].replace(e[j],j);for(var n=0;n<i.length;n++)j=i[n],b[k]=b[k].replace(j,f[j]);g+=" "+b[k]}return c.trim(g)},g=function(){var a,c=b.createElement("fakeelement"),e={animation:"animationend","-o-animation":"oAnimationEnd","-moz-animation":"animationend","-webkit-animation":"webkitAnimationEnd"};for(a in e)if(c.style[a]!==d)return e[a];return!1}();g!==!1&&(e.on("asTabs::init",function(a,b){return b.options.effect===!1?!1:(b.effects={inClass:b.options.effect,outClass:f(b.options.effect)},b.$content.children().css({"-webkit-animation-duration":b.options.duration+"ms","animation-duration":b.options.duration+"ms"}),void b.$content.addClass("with-effects"))}),e.on("asTabs::ready",function(b,d){return d.options.effect===!1?!1:void c(a).bind("resize orientationchange",function(){clearTimeout(d.resizingTimeout),d.resizingTimeout=setTimeout(function(){var a=d.getCurrentPane().outerHeight(!0);d.$content.height(a)},500)})}),e.on("asTabs::active asTabs::loaded",function(a,b){if(b.options.effect===!1)return!1;var c=b.getCurrentPane().outerHeight(!0);b.$content.height(c)}),e.on("asTabs::animation",function(a,b,c,d){if(b.options.effect===!1||b.initialized===!1)return!1;var e=b.$panes.eq(d),f=b.$panes.eq(c);b.isAnimating=!0,f.removeClass(b.effects.inClass).addClass(b.effects.outClass+" animated").one(g,function(){f.removeClass(b.effects.outClass+" animated").removeClass("is-active"),e.removeClass(b.effects.outClass).addClass("is-active").addClass(b.effects.inClass+" animated").one(g,function(){e.removeClass(b.effects.inClass),b.isAnimating=!1})})}))}(window,document,jQuery);